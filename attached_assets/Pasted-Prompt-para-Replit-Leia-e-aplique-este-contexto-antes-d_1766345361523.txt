Prompt para Replit

- Leia e aplique este contexto antes de qualquer implementação:
  
  - Projeto: xFinance 3.0 — migração do frontend de Python/Dash para React/TypeScript + FastAPI.
  - Banco: SQLite ( xFinanceDB.db ) do sistema original; manter nomenclaturas alinhadas para reaproveitar queries.
  - Regras: não alterar estética/tema (glassmorphism, lilás/ciano, gradientes), não mudar estrutura de componentes, não mexer nas animações Framer Motion, não adicionar/remover dependências, usar Radix UI conforme já adotado.
- Objetivo:
  
  - Criar a tela de cadastro de novo usuário, moderna e elegante, totalmente compatível com o restante do sistema e preparada para futura integração com FastAPI e SQLite.
  - Antes de codar, pesquise referências visuais de “modern glassmorphism signup form”, “Radix UI form patterns”, “Framer Motion micro-interactions” e aplique os padrões que combinem com o nosso tema.
- Entregáveis:
  
  - Página NovoUsuarioPage acessível por "/usuarios/novo" sem alterar a estrutura existente.
  - Componente de formulário NovoUsuarioForm com validações e acessibilidade.
  - Tipos TypeScript em src/types/usuario.ts .
  - Serviço de API em src/services/api/usuarios.ts com stubs para futura conexão FastAPI.
  - Não criar novas dependências; usar fetch , Radix UI e Framer Motion já presentes.
- Campos e nomenclaturas (usar exatamente estes nomes nas chaves do payload e estados):
  
  - id (INTEGER, gerado pelo backend/DB)
  - nome (TEXT, obrigatório)
  - email (TEXT, obrigatório, único)
  - senha (STRING, obrigatório; não armazenar em client; enviar para o backend para hash)
  - role (TEXT, obrigatório; valores: admin , financeiro , analista , auditor )
  - ativo (BOOLEAN/INTEGER, padrão true/1)
  - telefone (TEXT, opcional)
  - cpf (TEXT, opcional; máscara visual no input)
  - observacoes (TEXT, opcional)
  - criado_em e atualizado_em são gerenciados no backend/DB (não editar no frontend)
- Validações no frontend (sem libs extras):
  
  - nome : mínimo 3 caracteres.
  - email : formato válido.
  - senha : mínimo 8 caracteres, incluir número e letra; campo “confirmar senha” que deve coincidir.
  - role : seleção obrigatória entre os valores definidos.
  - cpf : aceitar vazio; quando preenchido, aplicar máscara visual e checagem básica de dígitos.
  - telefone : aceitar vazio; quando preenchido, máscara visual.
  - Desabilitar “Salvar” enquanto houver erros; exibir mensagens inline.
- UI/UX:
  
  - Container glassmorphism (cartão semitransparente, blur, bordas suaves) com cabeçalho em lilás/ciano e gradiente consistente com o tema atual.
  - Usar Radix UI para Input , Label , Select de role , Switch / Checkbox para ativo , Dialog / Toast para feedback.
  - Micro-interações com Framer Motion: entrada do card, foco suave nos campos, sucesso com leve escala/fade.
  - Acessibilidade: labels associados, aria-* adequado, foco visível, navegação por teclado.
  - Botões: Salvar (primário), Cancelar / Voltar (secundário) sem alterar estilos globais.
- Tipos TypeScript (estruturar em src/types/usuario.ts ):
  
  - type Role = 'admin' | 'financeiro' | 'analista' | 'auditor'
  - interface Usuario { id: number; nome: string; email: string; role: Role; ativo: boolean; telefone?: string; cpf?: string; observacoes?: string; criado_em?: string; atualizado_em?: string }
  - interface UsuarioInput { nome: string; email: string; senha: string; role: Role; ativo: boolean; telefone?: string; cpf?: string; observacoes?: string }
- Serviço de API ( src/services/api/usuarios.ts ):
  
  - Base URL: import.meta.env.VITE_API_URL com fallback "/api" .
  - async function createUsuario(data: UsuarioInput): Promise<Usuario> :
    - POST para "/usuarios" com Content-Type: application/json .
    - Não logar senha .
    - Tratar 4xx/5xx com erro amigável.
  - Criar também um stub local de mock (sem libs novas) retornando Promise.resolve com um Usuario simulado quando o backend não estiver disponível.
- Comportamento de formulário:
  
  - “Salvar” chama createUsuario com UsuarioInput .
  - Em sucesso: toast “Usuário criado com sucesso”, limpar senha e confirmarSenha , opcionalmente redirecionar para "/usuarios" .
  - Em erro: mostrar mensagens específicas (ex.: e-mail já utilizado).
  - Não persistir senha em estado global, manter apenas no estado local do componente até envio.
- Padrão visual e estrutura:
  
  - Reutilizar tokens de cores/gradientes já existentes no projeto.
  - Não alterar CSS global, nem mover pastas, nem quebrar componentes.
  - Responsivo: mobile-first com layout que se adapta a duas colunas em telas largas.
- Aceitação:
  
  - Página compila sem novas dependências.
  - Validações e acessibilidade funcionam.
  - Tema glassmorphism e lilás/ciano preservado.
  - Payload enviado usa exatamente as chaves definidas.
  - API stub funciona e futura troca para FastAPI será apenas de URL.
- Referência de esquema (para orientar futura integração SQLite/FastAPI; não codar migração agora):
  
  - Tabela alvo usuarios :
    - id INTEGER PRIMARY KEY AUTOINCREMENT
    - nome TEXT NOT NULL
    - email TEXT NOT NULL UNIQUE
    - senha_hash TEXT NOT NULL
    - role TEXT NOT NULL CHECK(role IN ('admin','financeiro','analista','auditor'))
    - ativo INTEGER NOT NULL DEFAULT 1
    - telefone TEXT
    - cpf TEXT
    - observacoes TEXT
    - criado_em TEXT DEFAULT CURRENT_TIMESTAMP
    - atualizado_em TEXT
  - O frontend nunca envia senha_hash ; envia senha e o backend faz o hash.